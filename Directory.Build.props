<Project>
	<Choose>
		<When Condition="'$(Configuration)' == 'Installer'">
			<PropertyGroup>
				<Minor>$([System.DateTime]::Now.ToString(yy))</Minor>
				<Build>$([System.DateTime]::Now.ToString(MM))</Build>
				<Revision>$([System.DateTime]::Now.get_DayOfYear().ToString())</Revision>

				<!--As WIX installer can only cope with build numbers <= 256, the yyMM layout won't work. 
				 Therefore, the build number for these packages will utilise the month number, assuming
				 that the major number will follow the latest .NET release number.-->
				<LibraryVersion>6.$(Minor).$(Build).$(Revision)</LibraryVersion>

				<PackageVersion>6.$(Minor).$(Build).$(Revision)</PackageVersion>
			</PropertyGroup>
		</When>
		<Otherwise>
			<PropertyGroup>
				<!--For use with Nightly packages-->
				<!--REMINDER: When packing, use the proper ISO layout, i.e ddHH-->
				<!--<CurrentDate>$([System.DateTime]::Now.ToString(ddHH))</CurrentDate>-->

				<Minor>$([System.DateTime]::Now.ToString(yyMM))</Minor>
				<Build>$([System.DateTime]::Now.get_DayOfYear().ToString())</Build>

				<!--Version layout:
				6 = Major
				2109 = Minor
				18 = Build
				-alpha = Indicates a pre-release package
				-->
				<LibraryVersion>6.$(Minor).$(Build)</LibraryVersion>
				<!--https://docs.microsoft.com/en-us/nuget/create-packages/prerelease-packages-->
				<PackageVersion>6.$(Minor).$(Build)-alpha</PackageVersion>

				<!--Canary only-->
				<!--<PackageVersion>6.$(Minor).$(Build)-beta</PackageVersion>-->

				<!--Stable/Signed-->
				<!--<PackageVersion>6.$(Minor).$(Build)</PackageVersion>-->
			</PropertyGroup>
		</Otherwise>
	</Choose>
</Project>